---
# Main task file that includes logical sections

- name: Check system readiness
  ansible.builtin.include_tasks: 00_system_check.yml
  tags:
    - always

- name: Install and configure Docker
  ansible.builtin.include_tasks: 01_docker_install.yml
  tags:
    - always

- name: Setup NFS and backup infrastructure
  ansible.builtin.include_tasks: 02_nfs_backup_setup.yml
  tags:
    - always

- name: Deploy Netbox service
  ansible.builtin.include_tasks: 03_netbox.yml
  tags:
    - netbox
    - services

- name: Deploy UniFi service
  ansible.builtin.include_tasks: 04_unifi.yml
  tags:
    - unifi
    - services

- name: Deploy backup and restore scripts
  ansible.builtin.include_tasks: 05_backup_scripts.yml
  tags:
    - netbox
    - scripts
